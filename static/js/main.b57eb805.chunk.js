(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{56:function(n,e,t){},81:function(n,e,t){"use strict";t.r(e);var c,a=t(0),r=t.n(a),o=t(29),i=t.n(o),s=t(6),u=t(21),l=t(40),d=t(42),h=t(3),b="@@CURRENT_LOCATION/UPDATE_LOCATION",f="@@CURRENT_LOCATION/UPDATE_GEO_LOCATION",j="@@CURRENT_LOCATION/UPDATE_WEATHER",p={location:{city:"Lisbon",country:"Portugal",lat:38.7259284,lon:-9.137382},weather:{}},m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return Object(h.a)(Object(h.a)({},n),{},{location:Object(h.a)(Object(h.a)({},n.location),{},{lat:e.payload.lat,lon:e.payload.lon})});case b:return Object(h.a)(Object(h.a)({},n),{},{location:Object(h.a)(Object(h.a)({},n.location),{},{city:""===e.payload.city?n.location.city:e.payload.city,country:""===e.payload.country?n.location.country:e.payload.country})});case j:return Object(h.a)(Object(h.a)({},n),{},{weather:e.payload});default:return Object(h.a)({},n)}},O="@@SEARCH/SEARCH_ITEMS_LOAD",g="@@SEARCH/SEARCH_QUERY",y="@@SEARCH/SEARCH_CLEAR",x="@@SEARCH/SEARCH_FOUND",v="@@SEARCH/SEARCH_QUERY_SELECTED",w={searchQuery:"",locations:[],searchedResult:{}},k=function(n,e){var t=n.split(", "),c=t[0],a=1===t.length?"":t[1];return""===a?e.find((function(n){return n.city===c})):e.find((function(n){return n.city===c&&n.country===a}))},E=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return Object(h.a)(Object(h.a)({},n),{},{locations:e.payload});case g:return Object(h.a)(Object(h.a)({},n),{},{searchQuery:e.payload});case y:return Object(h.a)(Object(h.a)({},n),{},{searchQuery:"",locations:[]});case x:return Object(h.a)(Object(h.a)({},n),{},{searchQuery:"",locations:[],searchedResult:e.payload});case v:var t=k(e.payload,n.locations);return Object(h.a)(Object(h.a)({},n),{},{searchQuery:e.payload,searchedResult:t});default:return Object(h.a)({},n)}},C="@@FAVOURITE_LOCATIONS/ADD_FAVOURITE",S="@@FAVOURITE_LOCATIONS/DELETE_FAVOURITE",F="@@FAVOURITE_LOCATIONS/INIT_FAVOURITES",R={favourites:[],cookie_key:"FAVOURITES"},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F:return Object(h.a)(Object(h.a)({},n),{},{favourites:[].concat(Object(u.a)(n.favourites),Object(u.a)(e.payload))});case C:return Object(h.a)(Object(h.a)({},n),{},{favourites:[].concat(Object(u.a)(n.favourites),[e.payload])});case S:return Object(h.a)(Object(h.a)({},n),{},{favourites:n.favourites.filter((function(n){return!(n.location.city===e.payload.location.city&&n.location.country===e.payload.location.country)}))});default:return Object(h.a)({},n)}},L="@@RECENTLY_VIEWED/ADD_NEW_LOCATION",N={viewed:[]},T=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case L:return{viewed:[].concat(Object(u.a)(n.viewed),[e.payload])};default:return Object(h.a)({},n)}},A=Object(l.c)({currentLocationState:m,searchState:E,favouriteLocationsState:_,recentlyViewedState:T}),I=Object(l.d)(A,(c=[d.a],l.a.apply(void 0,Object(u.a)(c))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(56);var D,z,U,H,W,B,M,V=t(7),P=t(83),Q=t(84),G=t(18),Y=t(5),q=t(8),J=t(13),K=t(11),$=t(12),X=$.b.nav(D||(D=Object(K.a)(["\n  background: #222;\n  padding: 0 15rem;\n\n  .menu {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-items: center;\n    list-style-type: none;\n\n    li a {\n      display: block;\n      padding: 15px 5px;\n      color: white;\n      text-decoration: none;\n    }\n\n    .toggle {\n      order: 1;\n      font-size: 20px;\n    }\n\n    .logo {\n      font-size: 20px;\n      padding: 7.5px 10px 7.5px 0;\n    }\n\n    .item {\n      padding: 10px;\n      order: 3;\n      width: 100%;\n      text-align: center;\n      display: none;\n\n      a:hover,\n      a:hover::after {\n        color: #ccc;\n      }\n    }\n  }\n\n  .active .item {\n    display: block;\n  }\n\n  /* Tablet menu */\n  @media all and (min-width: 700px) {\n    .menu {\n      justify-content: center;\n\n      .logo {\n        flex: 1;\n      }\n\n      .toggle {\n        flex: 1;\n        text-align: right;\n        order: 2;\n      }\n    }\n  }\n  /* Desktop menu */\n  @media all and (min-width: 960px) {\n    .menu {\n      align-items: flex-start;\n      flex-wrap: nowrap;\n      background: none;\n\n      .logo {\n        order: 0;\n      }\n      .item {\n        order: 1;\n        position: relative;\n        display: block;\n        width: auto;\n      }\n\n      .toggle {\n        display: none;\n      }\n    }\n  }\n"]))),Z=t(1),nn=function(){var n=Object(a.useState)(!1),e=Object(V.a)(n,2),t=e[0],c=e[1];return Object(Z.jsx)(X,{children:Object(Z.jsxs)("ul",{className:t?"menu active":"menu",children:[Object(Z.jsx)("li",{className:"logo",children:Object(Z.jsx)(G.b,{to:"/",children:"Weather App"})}),Object(Z.jsx)("li",{className:"item",children:Object(Z.jsx)(G.b,{to:"/current-location",children:"Current Location"})}),Object(Z.jsx)("li",{className:"item",children:Object(Z.jsx)(G.b,{to:"/favourites",children:"Favourites"})}),Object(Z.jsx)("li",{className:"toggle",children:Object(Z.jsx)("a",{"aria-label":"Click to open mobile menu",onClick:function(){return c(!t)},children:Object(Z.jsx)(J.a,{icon:q.a})})})]})})},en=t.p+"static/media/background.65800c54.jpg",tn=$.b.section(z||(z=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n\n  h1,\n  h2 {\n    font-weight: bold;\n  }\n\n  h3 {\n    font-weight: 500;\n  }\n\n  p {\n    margin-top: 25rem;\n  }\n\n  svg {\n    margin-top: 25rem;\n    font-size: 60rem;\n  }\n"]))),cn=function(n){var e=n.weather,t=n.country,c=n.city;return Object(Z.jsxs)(tn,{children:[Object(Z.jsx)("h3",{children:t}),Object(Z.jsx)("h2",{children:c}),""!==e.weather_icon&&Object(Z.jsx)(J.a,{icon:e.weather_icon}),Object(Z.jsxs)("h1",{children:[" ","".concat(e.temperature," ").concat("\xb0C")]}),Object(Z.jsx)("p",{children:e.date})]})},an=$.b.section(U||(U=Object(K.a)(["\n  width: 50%;\n  margin: 0 auto;\n  border-radius: 5rem;\n  background-color: rgba(0, 0, 0, 0.45);\n  line-height: 1;\n  -webkit-backdrop-filter: blur(10px);\n  backdrop-filter: blur(10px);\n  max-width: 50%;\n  padding: 10rem;\n  margin-top: 30rem;\n\n  .flex-forecast {\n    display: flex;\n    justify-content: space-between;\n    padding: 5rem 0;\n\n    .weather-forecast-info {\n      span {\n        margin-left: 10rem;\n      }\n    }\n  }\n"]))),rn=function(n){var e=n.forecast;return Object(Z.jsx)(an,{"aria-label":"forecast data",children:Object(Z.jsx)(Z.Fragment,{children:e.map((function(n,e){return Object(Z.jsx)(r.a.Fragment,{children:Object(Z.jsxs)("div",{className:"flex-forecast",children:[Object(Z.jsx)("p",{children:n.day}),Object(Z.jsxs)("p",{className:"weather-forecast-info",children:[""!==n.weather_icon&&Object(Z.jsx)(J.a,{icon:n.weather_icon}),Object(Z.jsx)("span",{children:"".concat(n.temp_max," ").concat("\xb0C")})]})]})},e)}))})})},on=t(10),sn=t.n(on),un=t(19),ln=function(n){if(n.ok)return n.json();n.status},dn=t(28),hn=t.n(dn),bn=function(n){var e={};return n&&(e={today:fn(n.current),forecast:jn(n.daily)}),e},fn=function(n){return{date:hn.a.unix(n.dt).format("LL"),temperature:Math.round(n.temp),feels_like:Math.round(n.feels_like),weather_icon:0===n.weather.length?"":mn(n.weather[0].main),weather_description:0===n.weather.length?"":n.weather[0].description,humidity:"".concat(n.humidity,"%"),wind:"".concat(pn(n.wind_deg)," ").concat(Math.round(3.6*n.wind_speed)," km/h")}},jn=function(n){var e=[];return n.map((function(n){e.push({day:hn.a.unix(n.dt).isSame(hn()(),"day")?"Today":hn.a.unix(n.dt).format("dddd"),weather_icon:0===n.weather.length?"":mn(n.weather[0].main),weather_description:0===n.weather.length?"":n.weather[0].description,temp_min:Math.round(n.temp.min),temp_max:Math.round(n.temp.max)})})),e},pn=function(n){var e="";switch(!0){case n>=0&&n<30||360===n:e="N";break;case n>=30&&n<60:e="NE";break;case n>=60&&n<120:e="E";break;case n>=120&&n<150:e="ES";break;case n>=150&&n<210:e="S";break;case n>=210&&n<240:e="SW";break;case n>=240&&n<300:e="W";break;case n>=300&&n<330:e="NW"}return e},mn=function(n){var e="";switch(n){case"Thunderstorm":e="bolt";break;case"Drizzle":e="cloud-rain";break;case"Rain":e="cloud-showers-heavy";break;case"Snow":e="snowflake";break;case"Clear":e="sun";break;case"Clouds":e="cloud";break;case"Smoke":case"Fog":case"Mist":case"Haze":case"Dust":e="smog"}return e},On=function(){return{getWeather:function(){var n=Object(un.a)(sn.a.mark((function n(e,t){return sn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&units=metric&exclude=").concat("minutely,hourly,alerts","&appid=").concat("72be570f8fa6d10abaadbb7166f6e634"),{method:"GET"}).then((function(n){return ln(n)})).then((function(n){return bn(n)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},gn=t(46),yn=$.b.button(H||(H=Object(K.a)(["\n  width: 100%;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n\n  &:focus {\n    outline: none;\n  }\n\n  svg {\n    font-size: 30rem;\n  }\n\n  @media (min-width: 1080px) {\n    width: 80%;\n  }\n"]))),xn=t(9),vn=function(n){var e=n.information,t=Object(a.useState)(!1),c=Object(V.a)(t,2),r=c[0],o=c[1],i=Object(s.c)((function(n){return n.favouriteLocationsState})),u=Object(P.a)([i.cookie_key]),l=Object(V.a)(u,2),d=(l[0],l[1]),h=Object(s.b)();Object(a.useEffect)((function(){var n=i.favourites.find((function(n){return n.location.city===e.location.city&&n.location.country===e.location.country}));o(void 0!==n)}),[i.favourites]),Object(a.useEffect)((function(){d(i.cookie_key,i.favourites)}),[i.favourites]);var b=function(){var n;h((n=e,Object(xn.action)(C,n))),o(!0)},f=function(){var n;h((n=e,Object(xn.action)(S,n))),o(!1)};return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(yn,{onClick:function(){return f()},style:{display:r?"flex":"none"},title:"Unfavourite Location","aria-label":"Unfavourite Location",className:"unfavourite-btn",children:Object(Z.jsx)(J.a,{icon:q.f})}),Object(Z.jsx)(yn,{onClick:function(){return b()},style:{display:r?"none":"flex"},title:"Favourite Location","aria-label":"Favourite Location",className:"favourite-btn",children:Object(Z.jsx)(J.a,{icon:gn.a})})]})},wn=function(n){return Object(xn.action)(L,n)},kn=function(n){return Object(xn.action)(b,n)},En=function(n){return Object(xn.action)(j,n)},Cn=function(n){var e=[];return n&&n.map((function(n){e.push({city:n.name,country:n.country.name,lat:n.coordinates.latitude,lon:n.coordinates.longitude})})),e},Sn=function(){var n="40b992f2acmsh37b5e36462aa771p13d32bjsn5804c8186f4a";return{getLocationByCoords:function(){var e=Object(un.a)(sn.a.mark((function e(t,c){return sn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://wft-geo-db.p.rapidapi.com/v1/geo/adminDivisions?location=".concat(t).concat(c),{method:"GET",headers:{"x-rapidapi-key":n,"x-rapidapi-host":"wft-geo-db.p.rapidapi.com"}}).then((function(n){return ln(n)})).then((function(n){if(n&&0!==n.data.length){var e={city:n.data[0].name,country:n.data[0].country,lat:0,lon:0};I.dispatch(kn(e))}console.error("There is no available data")})).catch((function(n){console.error(n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getLocationByName:function(){var e=Object(un.a)(sn.a.mark((function e(t,c){return sn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://wft-geo-db.p.rapidapi.com/v1/geo/cities?offset=0&namePrefix=".concat(t),{method:"GET",headers:{"x-rapidapi-key":n,"x-rapidapi-host":"wft-geo-db.p.rapidapi.com"}}).then((function(n){return ln(n)})).then((function(n){if(n&&0!==n.data.length){var e=n.data.find((function(n){return n.country.toLowerCase().replace(/\s+/g,"-")===c}));return{city:void 0===e?n.data[0].name:e.name,country:void 0===e?n.data[0].country:e.country,lat:void 0===e?n.data[0].latitude:e.latitude,lon:void 0===e?n.data[0].longitude:e.longitude}}return{}})).catch((function(n){return console.error(n),n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),searchForPlaces:function(){var n=Object(un.a)(sn.a.mark((function n(e){return sn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://spott.p.rapidapi.com/places/autocomplete?q=".concat(e,"&type=CITY"),{method:"GET",headers:{"x-rapidapi-key":"40b992f2acmsh37b5e36462aa771p13d32bjsn5804c8186f4a","x-rapidapi-host":"spott.p.rapidapi.com"}}).then((function(n){return ln(n)})).then((function(n){return Cn(n)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},Fn=t(24),Rn=t.n(Fn),_n=function(n){var e=n.match,t=On().getWeather,c=Object(Y.f)(),r=Object(s.c)((function(n){return n.searchState})),o=Object(s.c)((function(n){return n.recentlyViewedState})),i=Object(s.b)(),u=Object(a.useState)(),l=Object(V.a)(u,2),d=l[0],h=l[1],b=Object(a.useState)(r.searchedResult),f=Object(V.a)(b,2),j=f[0],p=f[1];Object(a.useEffect)((function(){!O()||""===r.searchedResult.city||r.searchedResult.city!==e.params.city&&r.searchedResult.country!==e.params.country?Sn().getLocationByName(e.params.city,e.params.country).then((function(n){p(n),m(n.lat,n.lon),e.params.country!==n.country&&c.push("/".concat(e.params.city,"/").concat(n.country.replace(/\s+/g,"-").toLowerCase()))})):m(r.searchedResult.lat,r.searchedResult.lon)}),[]);var m=function(n,e){t(n,e).then((function(n){h(n),i(wn(g()))}))},O=function(){return o.viewed.find((function(n){return n.location.city===r.searchedResult.city&&n.location.country===r.searchedResult.country}))},g=function(){return{location:void 0===r.searchedResult.city?j:r.searchedResult,weather:null===d||void 0===d?void 0:d.today}};return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)("main",{style:{backgroundImage:"url(".concat(en,")")},children:[void 0===d&&void 0===j&&Object(Z.jsx)("div",{className:"page-loader",children:Object(Z.jsx)(Rn.a,{type:"Bars",color:"#FFFFFF",height:80,width:80})}),void 0!==d&&void 0!==j&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(vn,{information:g()}),Object(Z.jsx)(cn,{weather:d.today,city:j.city,country:j.country}),Object(Z.jsx)(rn,{forecast:d.forecast})]})]})})},Ln=function(){var n=Object(s.b)(),e=On().getWeather,t=Object(a.useState)(),c=Object(V.a)(t,2),r=c[0],o=c[1],i=Object(s.c)((function(n){return n.currentLocationState}));Object(a.useEffect)((function(){u()}),[]);var u=function(){navigator.geolocation.watchPosition(l,d)},l=function(t){var c,a={city:"",country:"",lat:t.coords.latitude,lon:t.coords.longitude};Sn().getLocationByCoords(t.coords.latitude,t.coords.longitude),n((c=a,Object(xn.action)(f,c))),e(t.coords.latitude,t.coords.longitude).then((function(e){n(En(e)),o(e),n(wn(h()))}))},d=function(){e(i.location.lat,i.location.lon).then((function(e){n(En(e)),o(e),n(wn(h()))}))},h=function(){return{location:i.location,weather:i.weather.today}};return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)("main",{style:{backgroundImage:"url(".concat(en,")")},children:[void 0===r&&Object(Z.jsx)("div",{className:"page-loader",children:Object(Z.jsx)(Rn.a,{type:"Bars",color:"#FFFFFF",height:80,width:80})}),void 0!==r&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(vn,{information:h()}),Object(Z.jsx)(cn,{weather:r.today,city:i.location.city,country:i.location.country}),Object(Z.jsx)(rn,{forecast:r.forecast})]})]})})},Nn=$.b.section(W||(W=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n  height: 100%;\n\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    width: 100%;\n    flex-direction: row;\n    justify-content: center;\n\n    li {\n      box-sizing: border-box;\n      margin: 1rem 0.25em;\n      cursor: pointer;\n      border-radius: 20rem;\n      background-color: rgba(0, 0, 0, 0.45);\n      line-height: 1;\n      -webkit-backdrop-filter: blur(10px);\n      backdrop-filter: blur(10px);\n      height: 180rem;\n      padding: 15rem;\n      width: 150rem;\n      position: relative;\n      div {\n        position: absolute;\n        bottom: 15rem;\n\n        p {\n          cursor: pointer;\n          line-height: 30rem;\n\n          span {\n            margin-left: 5rem;\n          }\n        }\n      }\n    }\n  }\n"]))),Tn=function(n){var e=n.locations,t=Object(Y.f)();return Object(Z.jsxs)(Nn,{children:[0===e.length&&Object(Z.jsx)("h2",{children:"You don't have any favourite locations yet!"}),0!==e.length&&Object(Z.jsx)("ul",{children:e.map((function(n,e){return Object(Z.jsx)("li",{onClick:function(){return function(n){var e=n.location.city.replace(/\s+/g,"-").toLowerCase(),c=n.location.country.replace(/\s+/g,"-").toLowerCase();t.push("/".concat(e,"/").concat(c))}(n)},children:Object(Z.jsxs)("div",{children:[Object(Z.jsx)("p",{children:n.location.city}),Object(Z.jsxs)("p",{className:"weather-forecast-info",children:[""!==n.weather.weather_icon&&Object(Z.jsx)(J.a,{icon:n.weather.weather_icon}),Object(Z.jsx)("span",{children:"".concat(n.weather.temperature," ").concat("\xb0C")})]})]})},e)}))})]})},An=function(){var n=Object(s.c)((function(n){return n.favouriteLocationsState})),e=Object(a.useState)(),t=Object(V.a)(e,2),c=t[0],r=t[1];return Object(a.useEffect)((function(){r(n.favourites)}),[n.favourites]),Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)("main",{style:{backgroundImage:"url(".concat(en,")")},children:[void 0===c&&Object(Z.jsx)("div",{className:"page-loader",children:Object(Z.jsx)(Rn.a,{type:"Bars",color:"#FFFFFF",height:80,width:80})}),void 0!==c&&Object(Z.jsx)(Tn,{locations:c})]})})},In=function(n){return Object(xn.action)(g,n)},Dn=function(n){return Object(xn.action)(O,n)},zn=$.b.section(B||(B=Object(K.a)(["\n  margin-top: 50rem;\n  width: 100%;\n\n  .open-search-dropdown {\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n    border-bottom-style: 1px solid #222;\n  }\n\n  form {\n    background: white;\n    border-radius: 4rem;\n\n    input {\n      border: none;\n      color: #222;\n      margin: 8rem 0;\n      outline: none;\n      font-size: 14rem;\n      width: calc(100% - 60rem);\n    }\n\n    #search-term-btn,\n    #clear-search-term-btn {\n      width: 30rem;\n      height: 36rem;\n      background: none;\n      border: none;\n      cursor: pointer;\n      vertical-align: top;\n\n      svg {\n        color: #222;\n      }\n\n      &:focus {\n        outline: none;\n      }\n    }\n  }\n\n  #search-options,\n  #no-search-options {\n    height: auto;\n    background: white;\n    border-style: none;\n\n    li {\n      color: #222;\n      height: 36rem;\n      font-size: 13rem;\n      padding: 8rem 16rem;\n      font-weight: 500;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      vertical-align: middle;\n\n      &:hover,\n      &.active {\n        background: rgba(0, 129, 141, 0.2);\n        cursor: pointer;\n      }\n\n      &#no-results {\n        cursor: default;\n        opacity: 0.8;\n        svg {\n          color: #222;\n        }\n        &:hover {\n          background: unset;\n          color: unset;\n        }\n      }\n    }\n  }\n  @media (min-width: 1080px) {\n    form,\n    #no-search-options,\n    #search-options {\n      width: 50%;\n      margin: 0 auto;\n    }\n  }\n"]))),Un=function(){var n=Object(Y.f)(),e=Object(s.c)((function(n){return n.searchState})),t=Object(a.useState)(""),c=Object(V.a)(t,2),r=c[0],o=c[1],i=Object(a.useState)(!1),u=Object(V.a)(i,2),l=u[0],d=u[1],h=Object(a.useState)(-1),b=Object(V.a)(h,2),f=b[0],j=b[1],p=Object(a.useState)([]),m=Object(V.a)(p,2),O=m[0],g=m[1],x=Object(a.useState)(!1),w=Object(V.a)(x,2),k=w[0],E=w[1],C=Sn().searchForPlaces,S=Object(s.b)();Object(a.useEffect)((function(){return document.addEventListener("mouseup",F),function(){document.removeEventListener("mouseup",F)}}),[l]);var F=function(n){var e,t=n.target;l&&!(t.closest("input")||t.closest("li")||(null===(e=document.querySelector("form"))||void 0===e?void 0:e.contains(t)))&&(d(!1),j(-1))},R=function(){d(!1),S(Object(xn.action)(y,null)),o(""),j(-1),E(!1)},_=function(){var n=Object(un.a)(sn.a.mark((function n(e){return sn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o(e.target.value),E(0!==e.target.value.length),e.target.value.length>=3?(L(e.target.value),S(In(e.target.value))):d(!1);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),L=function(){var n=Object(un.a)(sn.a.mark((function n(e){return sn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:C(e).then((function(n){g(n),S(Dn(n)),d(!0)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),N=function(n){j(n);var t=-1===n?e.searchQuery:"".concat(e.locations[n].city,", ").concat(e.locations[n].country);o(t)},T=function(n){var e;""!==n&&(d(!1),o(n),j(-1),S((e=n,Object(xn.action)(v,e))),A(n))},A=function(e){var t=e.split(", ")[0].replace(/\s+/g,"-").toLowerCase(),c=e.split(", ")[1].replace(/\s+/g,"-").toLowerCase();n.push("/".concat(t,"/").concat(c))};return Object(Z.jsxs)(zn,{children:[Object(Z.jsxs)("form",{className:l?"open-search-dropdown":"",children:[Object(Z.jsx)("button",{id:"search-term-btn","aria-label":"Click to search",onClick:function(n){return function(n){n.preventDefault(),r.length>=3&&(0!==e.locations.length||0!==O.length)&&T(r)}(n)},children:Object(Z.jsx)(J.a,{icon:q.g})}),Object(Z.jsx)("input",{type:"text",placeholder:"Get weather for new locations...",value:r,maxLength:50,onChange:function(n){return _(n)},onKeyDown:function(n){return function(n){if(r.length>=3&&(0!==e.locations.length||0!==O.length))if(13===n.keyCode)T(r);else if(38===n.keyCode){n.preventDefault();var t=f>-1?f-1:e.locations.length-1;N(t)}else if(40===n.keyCode){n.preventDefault();var c=f<e.locations.length-1?f+1:-1;N(c)}}(n)},onFocus:function(n){return function(n){n.preventDefault(),r.length>=3&&(L(r),d(!0),S(In(r)))}(n)}}),Object(Z.jsx)("button",{id:"clear-search-term-btn","aria-label":"Click to clear search",onClick:function(){return R()},style:{visibility:k?"initial":"hidden"},children:Object(Z.jsx)(J.a,{icon:q.k})})]}),l&&0===e.locations.length&&0===O.length&&Object(Z.jsx)("ul",{id:"no-search-options",children:Object(Z.jsxs)("li",{id:"no-results",children:["No results found for ",Object(Z.jsx)("i",{children:r})]})}),l&&(0!==e.locations.length||0!==O.length)&&Object(Z.jsx)("ul",{id:"search-options",children:O.map((function(n,e){return Object(Z.jsxs)("li",{onClick:function(){return T("".concat(n.city,", ").concat(n.country))},children:[n.city,", ",n.country]},e)}))})]})},Hn=function(){return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)("main",{style:{backgroundImage:"url(".concat(en,")")},className:"centered-container",children:[Object(Z.jsx)("h1",{children:"Welcome!"}),Object(Z.jsx)("h3",{children:"Select your city to view the weather forecast."}),Object(Z.jsx)(Un,{})]})})},Wn=function(){return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)("main",{style:{backgroundImage:"url(".concat(en,")")},className:"centered-container",children:Object(Z.jsxs)("h1",{children:["Page not found. Go back to",Object(Z.jsx)(G.b,{to:"/",replace:!0,children:" homepage."})]})})})},Bn=Object($.a)(M||(M=Object(K.a)(["\n    ","\n    ","\n\n    body {\n        min-width: 360px;\n        min-height: 660px;\n        display: flex;\n        flex-direction: column;\n\n        #root {\n            min-width: 360px;\n            min-height: 641px;\n        }\n\n        main {\n            height: calc(100vh - 100px);\n            min-height: 641px;\n            padding: 0;\n            flex: 1;\n            padding: 25rem;\n            background-position: center center;\n            background-repeat: no-repeat;\n            background-size: cover;\n\n            .page-loader {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                height: 100%;\n            }\n\n            &.centered-container {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n\n                h1,\n                h3 {\n                    text-align: center;\n                }\n            }\n\n            h1, h2, h3, h4, h5, h6, p {\n                color: white;\n                cursor: default;\n            }\n\n            h1 {\n                font-size: 35rem;\n            }\n\n            h2 {\n                font-size: 25rem;\n            }\n\n            h3 {\n                font-size: 20rem;\n            }\n\n            svg {\n                color: white;\n            }\n        }\n    }\n"])),"\n    /****** Elad Shechter's RESET *******/\n    /*** box sizing border-box for all elements ***/\n    *,\n    *::before,\n    *::after{box-sizing:border-box;}\n    a{text-decoration:none; color:inherit; cursor:pointer;}\n    button{background-color:transparent; color:inherit; border-width:0; padding:0; cursor:pointer;}\n    figure{margin:0;}\n    input::-moz-focus-inner {border:0; padding:0; margin:0;}\n    ul, ol, dd{margin:0; padding:0; list-style:none;}\n    h1, h2, h3, h4, h5, h6{margin:0; font-size:inherit; font-weight:inherit;}\n    p{margin:0;}\n    cite {font-style:normal;}\n    fieldset{border-width:0; padding:0; margin:0;}\n","\n   html { \n      font-size: 1px; /*for using REM units*/\n   }\n   body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n      font-size: 16rem;\n      font-weight: 400;\n      line-height: 1.3;\n      color: #222;\n   }\n"),Mn=function(){var n=Object(s.c)((function(n){return n.favouriteLocationsState})),e=Object(P.a)([n.cookie_key]),t=Object(V.a)(e,1)[0],c=Object(s.b)();return Object(a.useEffect)((function(){var e,a=t[n.cookie_key];a&&c((e=a,Object(xn.action)(F,e)))}),[]),Object(Z.jsxs)(Q.a,{children:[Object(Z.jsxs)(G.a,{children:[Object(Z.jsx)(nn,{}),Object(Z.jsx)(Y.a,{render:function(n){var e=n.location;return Object(Z.jsxs)(Y.c,{location:e,children:[Object(Z.jsx)(Y.a,{path:"/",exact:!0,component:Hn}),Object(Z.jsx)(Y.a,{path:"/current-location",exact:!0,component:Ln}),Object(Z.jsx)(Y.a,{path:"/favourites",exact:!0,component:An}),Object(Z.jsx)(Y.a,{path:"/:city/:country",component:_n}),Object(Z.jsx)(Y.a,{component:Wn})]})}})]}),Object(Z.jsx)(Bn,{})]})},Vn=t(23);i.a.render(Object(Z.jsx)(r.a.StrictMode,{children:Object(Z.jsx)(s.a,{store:I,children:Object(Z.jsx)(Mn,{})})}),document.getElementById("root")),Vn.b.add(q.j,q.e,q.c,q.h,q.d,q.b,q.i,q.a,q.g,q.k,q.f),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[81,1,2]]]);
//# sourceMappingURL=main.b57eb805.chunk.js.map